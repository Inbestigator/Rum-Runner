(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9536:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(9964)}])},9964:function(e,t,n){"use strict";n.r(t),n.d(t,{BalanceContext:function(){return x},EmployeeContext:function(){return b},RumContext:function(){return y},ShipContext:function(){return f},default:function(){return w}});var o=n(4246),a=n(7378),i=e=>{let{onBuyRum:t}=e,[n,i]=(0,a.useState)(Math.floor(6*Math.random()+27));return(0,o.jsxs)("div",{className:"bg-white p-8 rounded-lg cursor-default",style:{backgroundImage:"url('pixelart-wood.png')"},onClick:e=>{e.stopPropagation()},children:[(0,o.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Buy alcohol"}),(0,o.jsxs)("p",{children:["10 bottles for $",n]}),(0,o.jsx)("button",{className:"ml-2 px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 active:bg-green-700",onClick:()=>t(n),children:"Buy"})]})},r=()=>{let[e]=(0,a.useContext)(x),[t]=(0,a.useContext)(b),[n]=(0,a.useContext)(y);return(0,o.jsxs)("div",{className:"absolute bottom-0 right-0 p-4 bg-gray-800 items-end flex flex-col rounded-tl-lg",style:{backgroundImage:"url('pixelart-wood.png')"},children:[(0,o.jsxs)("div",{children:["Alcohol: ",n.toLocaleString()]}),(0,o.jsxs)("div",{children:["Employees: ",t.length.toLocaleString()]}),(0,o.jsxs)("div",{children:["Balance: $",e.toLocaleString()]}),(0,o.jsxs)("div",{children:["Avg. Loyalty: ",Math.round(0===t.length?0:t.reduce((e,t)=>e+t.loyalty,0)/t.length)]})]})};let l=()=>{let e=["John","William","James","Robert","Charles","George","Joseph","Edward","Frank","Thomas"],t=["Mary","Helen","Dorothy","Margaret","Ruth","Mildred","Anna","Elizabeth","Frances","Marie"],n=["Smith","Johnson","Williams","Jones","Brown","Davis","Miller","Wilson","Moore","Taylor"],o=Math.floor(100*Math.random())+1;return{name:(.5>Math.random()?e[Math.floor(Math.random()*e.length)]:t[Math.floor(Math.random()*t.length)])+" "+n[Math.floor(Math.random()*n.length)],loyalty:o,price:Math.round((Math.floor(16*Math.random())+5)*(1+o/100))}};var s=e=>{let{onHire:t}=e,[n]=(0,a.useState)(Array.from({length:3},()=>l()));return(0,o.jsxs)("div",{className:"bg-white p-8 rounded-lg cursor-default",style:{backgroundImage:"url('pixelart-wood.png')"},onClick:e=>{e.stopPropagation()},children:[(0,o.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Hire"}),n.map((e,n)=>(0,o.jsxs)("div",{className:"flex items-center justify-between mb-2 text-start",children:[(0,o.jsxs)("div",{className:"flex items-start justify-between mb-2 flex-col",children:[(0,o.jsx)("div",{children:e.name}),(0,o.jsxs)("div",{children:["Loyalty: ",e.loyalty]}),(0,o.jsxs)("div",{children:["Rate: $",e.price]})]}),(0,o.jsx)("div",{className:"p-2"}),(0,o.jsx)("button",{className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 active:bg-green-700",onClick:()=>t(e),children:"Hire"})]},n))]})},d=n(8579),c=n.n(d),u=e=>{let{onBuy:t}=e,[n]=(0,a.useContext)(x),[i]=(0,a.useContext)(f);return(0,o.jsxs)("div",{className:"bg-white p-8 rounded-lg cursor-default",style:{backgroundImage:"url('pixelart-wood.png')"},onClick:e=>{e.stopPropagation()},children:[(0,o.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Build"}),[{name:"Rowboat",price:50,icon:"pixelart-rowboat.png"},{name:"Speedboat",price:100,icon:"pixelart-speedboat.png"},{name:"Schooner",price:500,icon:"pixelart-schooner.png"}].map((e,n)=>(0,o.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,o.jsx)(c(),{src:e.icon,width:50,height:50,alt:"Ship icon"}),(0,o.jsxs)("div",{className:"flex items-start justify-between mb-2 flex-col",children:[(0,o.jsx)("div",{children:e.name}),(0,o.jsxs)("div",{children:["Price: $",e.price]})]}),(0,o.jsx)("div",{className:"p-2"}),(0,o.jsx)("button",{disabled:i.some(t=>t.name===e.name),className:"px-4 py-2 text-white rounded ".concat(i.some(t=>t.name===e.name)?"bg-green-800 cursor-not-allowed":"bg-green-500 hover:bg-green-600 active:bg-green-700"),onClick:()=>{t(e)},children:"Build"})]},n)),(n>=5e3||i.some(e=>"Golden flying boat"===e.name))&&(0,o.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,o.jsx)(c(),{src:"pixelart-goldflyingboat.png",width:50,height:50,alt:"Ship icon"}),(0,o.jsxs)("div",{className:"flex items-start justify-between mb-2 flex-col",children:[(0,o.jsx)("div",{children:"Golden flying boat"}),(0,o.jsx)("div",{children:"Price: $5000"})]}),(0,o.jsx)("div",{className:"p-2"}),(0,o.jsx)("button",{disabled:i.some(e=>"Golden flying boat"===e.name),className:"px-4 py-2 text-white rounded ".concat(i.some(e=>"Golden flying boat"===e.name)?"bg-green-800 cursor-default":"bg-green-500 hover:bg-green-600 active:bg-green-700"),onClick:()=>{t({name:"Golden flying boat",icon:"",price:5e3})},children:"Build"})]}),n<5e3&&!i.some(e=>"Golden flying boat"===e.name)&&(0,o.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,o.jsx)(c(),{src:"pixelart-shadowgoldflyingboat.png",width:50,height:50,alt:""}),(0,o.jsxs)("div",{className:"flex items-start justify-between mb-2 flex-col",children:[(0,o.jsx)("div",{children:"???"}),(0,o.jsx)("div",{children:"Price: $5000"})]}),(0,o.jsx)("div",{className:"p-2"}),(0,o.jsx)("button",{disabled:!0,className:"px-4 py-2 text-white rounded bg-green-800 cursor-default",children:"Build"})]})]})},h=()=>{let[e]=(0,a.useContext)(f),[t,n]=(0,a.useContext)(x),[i,r]=(0,a.useContext)(y),[l,s,d]=(0,a.useContext)(b),[c,u]=(0,a.useState)(null),[h,m]=(0,a.useState)(0),[g,p]=(0,a.useState)(0),[w,v]=(0,a.useState)(Math.floor(11*Math.random()+25)),[j,k]=(0,a.useState)(0),[N,C]=(0,a.useState)(0),S=()=>0===l.length?0:l.reduce((e,t)=>e+t.loyalty,0)/l.length;return(0,o.jsxs)("div",{className:"bg-white p-8 rounded-lg cursor-default",style:{backgroundImage:"url('pixelart-wood.png')"},onClick:e=>{e.stopPropagation()},children:[(0,o.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Sell"}),(0,o.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),0===N){alert("Trying to swim your goods there is not a very good idea..."),window.location.reload();return}if(j>l.length){alert("You didn't have enough employees, so you got lost at sea!"),window.location.reload();return}if(t<N){n(e=>e-N);return}Math.floor(60*Math.random())+1>S()&&(alert("An employee ratted you out and the police caught you!"),window.location.reload()),n(e=>e+w*h),r(e=>e-h)},children:[(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{htmlFor:"ship",className:"block text-sm font-medium",children:"Select ship:"}),(0,o.jsxs)("select",{id:"ship",name:"ship",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm text-black",value:c,defaultValue:"",onChange:t=>{let n=t.target.value;if(u(n),e.find(e=>e.name===n)){let e=0;switch(n){case"Rowboat":p(20),k(2),e=2;break;case"Speedboat":p(50),k(5),e=5;break;case"Schooner":p(100),k(10),e=10;break;case"Golden flying boat":p(1e3),k(100),e=100;break;default:p(0),k(0),e=0}let t=d/l.length*e;C(Number.isNaN(t)?0:Math.round(t))}},children:[(0,o.jsx)("option",{value:"",disabled:!0,children:"Select a ship"}),e.map(e=>(0,o.jsx)("option",{value:e.name,children:e.name},e.name))]})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{htmlFor:"rum",className:"block text-sm font-medium",children:"Amount of alcohol:"}),(0,o.jsx)("input",{type:"number",id:"rum",name:"rum",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm text-black",value:h,max:g,onChange:e=>{if(e.target.value>i){m(i);return}if(e.target.value<0){m(0);return}m(e.target.value)}})]}),(0,o.jsxs)("p",{children:["Sell price: $",w]}),(0,o.jsxs)("p",{children:["Employees needed: ",j]}),(0,o.jsxs)("p",{children:["Employee rates: $",N]}),(0,o.jsx)("button",{type:"submit",className:"w-full bg-green-500 text-white py-2 px-4 rounded-md hover:bg-green-600 focus:outline-none focus:bg-green-600 active:bg-green-700",children:"Start Mission"})]})]})},m=e=>{let{index:t,close:n}=e;return(0,o.jsxs)("div",{className:"bg-white p-8 rounded-lg max-w-[80%] cursor-default",style:{backgroundImage:"url('pixelart-wood.png')"},onClick:e=>{e.stopPropagation()},children:[(0,o.jsxs)("h3",{className:"text-xl font-bold mb-4",children:["Fact number ",t+1]}),(0,o.jsx)("div",{children:["Rum running is the term for smuggling alcohol over water, while bootlegging is the term for smuggling alcohol overland.",'Known as the "King of the Puget Sound Bootleggers," Roy Olmstead was a former Seattle police lieutenant turned prominent rum runner during Prohibition. He ran a highly organized smuggling operation, using fast boats to transport alcohol from British Columbia to Washington state.',"A couple of popular drinks to be smuggled were Canadian whiskey, French champagne, and English gin.","One of the more notorious Canadian mobsters at the time, Rocco Perri was involved in various criminal activities, including rum running between Canada and the United States during Prohibition. He operated primarily in Ontario but had connections to smuggling operations across the border.","Some smuggling ships could carry up to $200,000 worth of alcohol in a single trip!","Joe Celona was an influential figure in Vancouver's organized crime scene, Celona was involved in various illegal activities, including rum running during Prohibition. He controlled much of the smuggling operations along the Pacific Coast, earning a reputation as a ruthless and cunning underworld boss.","Occasionally, rum running ships had artillery mounted on the decks to defend against authorities.","As many as 60 ships were seen departing at a single time stocked with illegal alcohol.","Rum running boats often threw large parties to attract customers.","Some rum runners would disguise their vessels as fishing boats or pleasure yachts to blend in with regular maritime traffic, making it harder for law enforcement to intercept them.","The geography of British Columbia's coast provided numerous hidden coves, inlets, and remote islands that served as ideal drop-off points for illicit alcohol shipments destined for thirsty American consumers.","The demand for illegal alcohol during Prohibition led to the rise of organized crime syndicates, including the notorious Chicago Outfit led by Al Capone.","Prohibition had unintended consequences, including an increase in violent crime, corruption among law enforcement officials, and the proliferation of speakeasies (illegal drinking establishments).","The 1920s and early 1930s saw a significant rise in alcohol consumption despite Prohibition laws, as people found ways to obtain liquor through illegal means.","Prohibition ended in 1933 with the ratification of the 21st Amendment to the United States Constitution, which repealed the 18th Amendment and legalized the sale and consumption of alcohol nationwide."][t]})]})};let g=[{name:"Hire",coordinates:{x:165,y:310}},{name:"Brewery",coordinates:{x:50,y:150}},{name:"Buy",coordinates:{x:350,y:0}},{name:"Ship",coordinates:{x:350,y:200}}],p=[{name:"First, you should build a ship. Currently you can only afford the rowboat.",coordinates:{x:100,y:100}},{name:"Next, hire some employees. The rowboat only needs 2 employees. Try to get a high loyalty for a low price. You can close and reopen the menu to reroll options.",coordinates:{x:10,y:380}},{name:"You can now sell your alcohol!",coordinates:{x:260,y:290}},{name:"Finish the loop by buying some more alcohol.",coordinates:{x:10,y:250}}],x=(0,a.createContext)([1e3,()=>null]),b=(0,a.createContext)([[],()=>null,0]),f=(0,a.createContext)([[],()=>null]),y=(0,a.createContext)([0,()=>null]);var w=()=>{let[e,t]=(0,a.useState)(null),[n,l]=(0,a.useState)(100),[d,c]=(0,a.useState)(10),[w,v]=(0,a.useState)([]),[j,k]=(0,a.useState)(0),[N,C]=(0,a.useState)([]),[S,M]=(0,a.useState)(!1),[P,B]=(0,a.useState)(-1),[E,A]=(0,a.useState)(p);(0,a.useEffect)(()=>{n<=0&&(alert("You went broke and lost!"),window.location.reload())},[n]),(0,a.useEffect)(()=>{let n=setInterval(()=>{P<14&&S&&!e&&(B(e=>e+1),t({name:"Fact",coordinates:{x:0,y:0}}))},6e4);return()=>clearInterval(n)},[P,S,e]);let _=e=>{t(e)},I=()=>{t(null)},R=e=>{c(e=>e+10),l(t=>t-e)},F=e=>{l(t=>t-e.price),v([...w,e]),k(t=>t+e.price)},T=e=>{C([...N,e]),l(t=>t-e.price)};return(0,a.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t(null)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),(0,o.jsxs)("div",{className:"size-[512px] relative",children:[!S&&(0,o.jsx)("div",{className:"absolute inset-0 bg-cover bg-center cursor-pointer bg-black",style:{backgroundImage:"url('pixelart-tavern.png')"},onClick:()=>M(!0)}),S&&(0,o.jsx)(x.Provider,{value:[n,l],children:(0,o.jsx)(b.Provider,{value:[w,v,j],children:(0,o.jsx)(f.Provider,{value:[N,C],children:(0,o.jsxs)(y.Provider,{value:[d,c],children:[(0,o.jsx)("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('pixelart-map.png')"}}),E.length>0&&(0,o.jsx)("div",{className:"absolute max-w-[400px] rounded-lg p-3 cursor-pointer z-10",style:{left:E[0].coordinates.x,top:E[0].coordinates.y,backgroundImage:"url('pixelart-wood.png')"},onClick:()=>A(e=>{let t=[...e];return t.shift(),t}),children:E[0].name}),g.map(e=>(0,o.jsx)("div",{className:"absolute w-20 h-20 rounded-full cursor-pointer",style:{left:e.coordinates.x,top:e.coordinates.y},onClick:()=>_(e)},e.name)),e&&(0,o.jsx)(e=>{let{place:t}=e;return(0,o.jsxs)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 cursor-pointer",onClick:I,children:["Brewery"===t.name?(0,o.jsx)(i,{onBuyRum:R}):"Hire"===t.name?(0,o.jsx)(s,{onHire:F}):"Buy"===t.name?(0,o.jsx)(u,{onBuy:T}):"Ship"===t.name?(0,o.jsx)(h,{}):"Fact"===t.name?(0,o.jsx)(m,{index:P,close:I}):null,(0,o.jsx)("button",{className:"absolute top-0 right-0 p-2 text-gray-500",onClick:I,children:"X"})]})},{place:e}),(0,o.jsx)(r,{})]})})})})]})}}},function(e){e.O(0,[579,888,774,179],function(){return e(e.s=9536)}),_N_E=e.O()}]);